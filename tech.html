<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AutoWeave — Human-guided ETL</title>
  <meta name="description" content="Human-guided ETL: async threads, merges, and checkpoints for reliable pipelines." />
  <link rel="stylesheet" href="style.css" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body class="sloths-page">
  <header class="site-header">
    <div class="container nav-container">
      <div class="logo">
        <a href="index.html" aria-label="AutoWeave home">
          <img class="logo-img" src="assets/autoweave.svg" alt="AutoWeave logo" />
        </a>
        <span class="logo-text">Auto<span>Weave</span></span>
      </div>

      <nav class="main-nav">
        <a class="nav-link" href="index.html" target="_blank" rel="noopener">home</a>

        <details class="nav-dropdown">
          <summary class="nav-link active" href="page">technology</summary>
          <div class="nav-dropdown-menu" role="menu" aria-label="AutoWeave sections">
            <a class="nav-dropdown-link" href="tech.html#guided" role="menuitem">guided example</a>
            <a class="nav-dropdown-link" href="tech.html#workbench" role="menuitem">interactive workbench</a>
            <a class="nav-dropdown-link" href="tech.html#usecases" role="menuitem">use cases</a>
          </div>
        </details>

        <details class="nav-dropdown">
          <summary class="nav-link" href="page">roadmap</summary>
          <div class="nav-dropdown-menu" role="menu" aria-label="AutoWeave sections">
            <a class="nav-dropdown-link" href="roadmap.html#autoweave" role="menuitem">AutoWeave</a>
            <a class="nav-dropdown-link" href="roadmap.html#productsuite" role="menuitem">Products suite</a>
          </div>
        </details>

        <a class="nav-link" href="https://slothsintel.com/contact.html" target="_blank" rel="noopener">contact</a>
      </nav>

      <button class="nav-toggle" type="button"
              aria-label="Open menu"
              aria-controls="mobile-nav"
              aria-expanded="false">
        <span></span><span></span><span></span>
      </button>

      <div id="mobile-nav" class="mobile-nav" aria-hidden="true">
        <div class="mobile-nav__top">
          <div class="mobile-nav__brand">Auto<span>Weave</span></div>
          <button class="mobile-nav__close" type="button" aria-label="Close menu">✕</button>
        </div>

        <nav class="mobile-nav__menu" aria-label="Mobile navigation">
          <div class="mobile-nav__cta">
            <a class="mobile-btn mobile-btn--primary" href="tech.html#workbench">Try workbench</a>
          </div>

          <a class="mobile-link" href="index.html" target="_blank" rel="noopener">home</a>

          <details class="mobile-acc" open>
            <summary>technology</summary>
            <a href="tech.html#guided">Guided example</a>
            <a href="tech.html#workbench">Interactive workbench</a>
            <a href="tech.html#usecases">Use cases</a>
          </details>

          <details class="mobile-acc">
            <summary>roadmap</summary>
            <a href="roadmap.html#autoweave">AutoWeave</a>
            <a href="roadmap.html#productsuite">Products suite</a>
          </details>

          <a class="mobile-link" href="https://slothsintel.com/contact.html" target="_blank" rel="noopener">Contact</a>

          <p class="mobile-nav__privacy-note">
            Static demo site. Backend + accounts will be added later.
          </p>

          <a class="mobile-link" href="privacy.html">Privacy</a>
          <a class="mobile-link" href="terms.html">Terms</a>
        </nav>
      </div>
    </div>
  </header>

  <main>

    <!-- GUIDED EXAMPLE -->
    <section id="guided" class="tab-section">
      <div class="container">
        <h1>Guided example</h1>
        <div class="divider"></div>

        <p>
          Start here to understand the structure and the “threads → merge → checkpoint” model.
          This page runs locally in your browser (no database required at this stage).
        </p>

        <h2>Workflow</h2>
        <div class="aw-card">  
          <div class="contact-form" style="max-width: 100%;">
            <div class="spacer-lg"></div>
              <figure class="figure-half zoomable">
                <img src="assets/technology/merge_diagram.drawio.svg" alt="AutoWeave thread merge diagram" loading="lazy" />
                <div class="hybrid-legend">
                  <span class="legend-pill">Async inputs</span>
                  <span class="legend-pill">Merge points</span>
                  <span class="legend-pill">Checkpoints</span>
                  <span class="legend-pill">Clean outputs</span>
                </div>
              </div>
              <p class="aw-card__desc">
                Tip: once you see the “clean” baseline, it’s easier to understand where human checkpoints are required:
                renames, duplicates, ambiguous categories, and edge cases.
              </p>
            </div> 

      <div class="spacer-lg"></div>

      <h2>Inputs</h2>
      <div class="aw-card">
        <p class="aw-card__desc">
          Take a glimpse of <a href="assets/technology/autotrac_export_month_2026-02_projects.csv" download>project csv</a>, 
          <a href="assets/technology/autotrac_export_month_2026-02_incomes.csv" download>income csv</a>, 
          and <a href="assets/technology/autotrac_export_month_2026-02_time_entries.csv" download>time entries csv</a> 
          examples to upload  before trying your own CSVs.
        </p>
        <div class="contact-form" style="max-width: 100%;">
          <div class="form-row">
            <label for="fileInput">Upload a CSV</label>
            <input id="fileInput" type="file" accept=".csv,text/csv" />
          </div>
          <button type="button" id="clearBtn">Clear</button>
        </div>
        <div class="contact-form" style="max-width: 100%;">
          <div class="form-row">
            <label>What you’ll see</label>
            <textarea readonly>
- A clean CSV preview (first ~30 lines)
- Row/column summary + basic structure metrics
- Thread merge diagram + checkpoint concepts
            </textarea>
            <div class="contact-form" style="max-width: 100%;">
              <div class="form-row">
                <label>Preview</label>
                <textarea id="preview" readonly placeholder="Your CSV preview will appear here…"></textarea>
              </div>
            </div> 
          </div>
        </div>
      </div> 

      <div class="spacer-lg"></div>
      <h2>Merges</h2>
      <div class="aw-card">
        <p class="aw-card__desc">
          Trimming, normalisation, and merge rules are applied to create a clean baseline output. 
        </p>
      </div>

      <div class="spacer-lg"></div>
      <h2>Checkpoints</h2>
      <div class="aw-card">
        <p class="aw-card__desc">
          Human checkpoints are designed to catch edge cases and ensure correctness in context.
        </p>         
      </div>

      <div class="spacer-lg"></div>
      <h2>Visualisations</h2>
      <div class="aw-card">
        <p class="aw-card__desc">
          Quick stats and charts are designed to make structure and edge cases visible at a glance, so you can focus your attention where it’s needed most.
        </p>
      </div>
    </section>

    <!-- INTERACTIVE WORKBENCH -->
    <section id="workbench" class="tab-section">
      <div class="container">
        <h1>Interactive workbench</h1>
        <div class="divider"></div>

        <p>
          Upload CSVs to preview structure and generate quick summaries.
          Processing runs locally in your browser (no database required at this stage).
        </p>

        <div class="spacer-lg"></div>

        <div class="aw-workbench">
          <!-- LEFT PANE -->
          <section class="aw-pane" aria-label="Build (inputs and pipeline)">
            <div class="aw-pane__header">
              <h3 class="aw-pane__title">Build</h3>
              <p class="aw-pane__subtitle">Inputs, trims and merges</p>
            </div>

            <div class="aw-pane__body">
              <div class="aw-card">
                <div class="contact-form" style="max-width: 100%;">
                  <div class="form-row">
                    <label for="fileInput">Upload a project CSV</label>
                    <input id="fileInput" type="file" accept=".csv,text/csv" />
                  </div>
                  <button type="button" id="clearBtn">Clear</button>
                </div>
              </div>

              <div class="aw-card">
                <div class="contact-form" style="max-width: 100%;">
                  <div class="form-row">
                    <label for="fileInput">Upload an income CSV</label>
                    <input id="fileInput" type="file" accept=".csv,text/csv" />
                  </div>
                  <button type="button" id="clearBtn">Clear</button>
                </div>
              </div>
              
              <div class="aw-card">
                <div class="contact-form" style="max-width: 100%;">
                  <div class="form-row">
                    <label for="fileInput">Upload a time entries CSV</label>
                    <input id="fileInput" type="file" accept=".csv,text/csv" />
                  </div>
                  <button type="button" id="clearBtn">Clear</button>
                </div>
              </div>
            </div>
          </section>

          <!-- RIGHT PANE -->
          <section class="aw-pane" aria-label="See (preview and visualisation)">
            <div class="aw-pane__header">
              <h3 class="aw-pane__title">See</h3>
              <p class="aw-pane__subtitle">Preview, stats, and visualisations</p>
            </div>

            <div class="aw-pane__body">
              <div class="aw-card">
                <h4 class="aw-card__title">Preview</h4>
                <p class="aw-card__desc">First ~30 lines of your merged CSV.</p>

                <div class="contact-form" style="max-width: 100%;">
                  <div class="form-row">
                    <textarea id="preview" readonly placeholder="Your CSV preview will appear here…"></textarea>
                  </div>
                </div>
              </div>

              <div class="aw-card">
                <h4 class="aw-card__title">Quick stats</h4>
                <p class="aw-card__desc">
                    Row and column summary with indicative structure metrics.
                </p>
                <div class="contact-form" style="max-width: 100%;">
                  <div class="form-row">
                    <textarea id="stats" readonly placeholder="Rows/columns + basic stats will appear here…"></textarea>
                  </div>
                </div>
              </div>

              <div class="aw-card">
                <h4 class="aw-card__title">Visualisations</h4>
                <div class="hybrid-diagram" style="margin: 1rem auto 1.2rem;">
                  <img src="assets/technology/merge_diagram.drawio.svg" alt="AutoWeave thread merge diagram" loading="lazy" />
                  <div class="hybrid-legend">
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </section>

    <!-- USE CASES -->
    <section id="usecases" class="tab-section">
      <div class="container">
        <h1>Use cases</h1>
        <div class="divider"></div>

        <div class="about-quote">
          <p class="quote-lead">Correctness depends on context.</p>
          <p class="quote-body">AutoWeave makes that context structured, transparent, and repeatable.</p>
        </div>

        <div class="spacer-xl"></div>

        <p>
          Example workflows include POS exports with bank statements, operational logs, CRM extracts, supplier feeds,
          and any data process where edge cases require contextual resolution with documented rationale.
        </p>
      </div>
    </section>

    <!-- Footer injection -->
    <div id="site-footer"></div>

    <script>
      fetch("footer.html")
        .then(res => res.text())
        .then(html => {
          document.getElementById("site-footer").innerHTML = html;
          const yearEl = document.getElementById("year");
          if (yearEl) yearEl.textContent = new Date().getFullYear();
        });
    </script>

    <!-- Mobile nav script -->
    <script>
      const toggle = document.querySelector(".nav-toggle");
      const mobileNav = document.getElementById("mobile-nav");
      const closeBtn = document.querySelector(".mobile-nav__close");

      function openNav(){
        mobileNav.classList.add("is-open");
        mobileNav.setAttribute("aria-hidden", "false");
        toggle?.setAttribute("aria-expanded", "true");
        document.body.classList.add("nav-open");
      }

      function closeNav(){
        mobileNav.classList.remove("is-open");
        mobileNav.setAttribute("aria-hidden", "true");
        toggle?.setAttribute("aria-expanded", "false");
        document.body.classList.remove("nav-open");
      }

      toggle?.addEventListener("click", (e) => {
        e.stopPropagation();
        openNav();
      });

      closeBtn?.addEventListener("click", closeNav);

      mobileNav?.querySelectorAll("a").forEach(a => a.addEventListener("click", closeNav));

      document.addEventListener("keydown", (e) => {
        if(e.key === "Escape") closeNav();
      });

      document.addEventListener("click", (e) => {
        if (!mobileNav.classList.contains("is-open")) return;

        const target = e.target;
        if (!(target instanceof Node)) return;

        const clickedInsidePanel = mobileNav.contains(target);
        const clickedToggle = toggle && toggle.contains(target);

        if (!clickedInsidePanel && !clickedToggle) closeNav();
      });
    </script>

    <!-- Keep your existing AutoWeave CSV demo logic -->
    <script src="./script.js"></script>
  </main>
</body>
</html>
